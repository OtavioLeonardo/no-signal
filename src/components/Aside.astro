---
// src/components/Aside.astro

// ğŸ‘‡ 1. å®šä¹‰ Props ç±»å‹ (è§£å†³ TS æŠ¥é”™çš„å…³é”®)
interface Props {
  type?: 'tip' | 'note' | 'danger' | 'caution';
  title?: string;
  content?: string;
}

// ğŸ‘‡ æ¥æ”¶å‚æ•°
const { type = 'tip', title, content } = Astro.props;

const styles = {
  note: {
    container: 'bg-gray-50 border-gray-500 text-gray-800 dark:bg-gray-800/50 dark:border-gray-400 dark:text-gray-200',
    titleColor: 'text-gray-900 dark:text-gray-100',
    icon: 'ğŸ“', 
    defaultTitle: 'Note',
  },
  tip: {
    container: 'bg-blue-50 border-blue-500 text-blue-800 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-100',
    titleColor: 'text-blue-900 dark:text-blue-50',
    icon: 'ğŸ’¡',
    defaultTitle: 'Tip',
  },
  caution: {
    container: 'bg-orange-50 border-orange-500 text-orange-800 dark:bg-orange-900/20 dark:border-orange-400 dark:text-orange-100',
    titleColor: 'text-orange-900 dark:text-orange-50',
    icon: 'âš¡',
    defaultTitle: 'Caution',
  },
  danger: {
    container: 'bg-red-50 border-red-500 text-red-800 dark:bg-red-900/20 dark:border-red-400 dark:text-red-100',
    titleColor: 'text-red-900 dark:text-red-50',
    icon: 'ğŸ”¥',
    defaultTitle: 'Danger',
  },
};

// ğŸ‘‡ å®‰å…¨è·å–æ ·å¼ (å¦‚æœç±»å‹ä¸å¯¹ï¼Œå›é€€åˆ° note)
const current = styles[type] || styles.note;
const displayTitle = title || current.defaultTitle;
---

<div class={`flex flex-col border-l-4 py-3 px-4 my-4 rounded-r-lg shadow-sm ${current.container} prose-p:my-0`}>
  <div class={`flex items-center font-bold text-sm mb-1 ${current.titleColor}`}>
    <span class="mr-2 text-lg">{current.icon}</span>
    {displayTitle}
  </div>
  <div class="text-sm leading-relaxed opacity-90 whitespace-pre-wrap">
    {/* æ˜¾ç¤ºå†…å®¹ */}
    {content}
    <slot /> 
  </div>
</div>